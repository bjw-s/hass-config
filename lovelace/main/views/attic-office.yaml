title: Office
icon: "mdi:laptop"
id: office
path: office
badges: []
type: 'custom:grid-layout'
layout:
  grid-template-columns: 30% 30% 30%
  grid-template-rows: auto
  grid-template-areas: |
    "status audio_video octoprint"
    "lights .           octoprint"
    ".      .           octoprint"
  mediaquery:
    "(max-width: 600px)":
      grid-template-columns: 100%
      grid-template-areas: |
        "status"
        "audio_video"
        "lights"
        "octoprint"
    "(max-width: 800px)":
      grid-template-columns: 50% 50%
      grid-template-areas: |
        "status audio_video"
        "lights octoprint"
cards:
  - type: 'custom:layout-card'
    view_layout:
      grid-area: status
    cards:
      - type: 'custom:button-card'
        template: header
        name: Status

      - type: glance
        columns: 3
        entities:
          - entity: binary_sensor.attic_office_is_dark
            name: Dark?
            tap_action: !include ../popups/light_levels.yaml

          - entity: sensor.attic_office_motion_sensor_illuminance_lux
            name: Light level
            icon: "mdi:theme-light-dark"

          - entity: binary_sensor.attic_office_motion_sensor_occupancy
            name: Motion

          - entity: sensor.attic_office_multisensor_temperature
            name: Temperature

          - entity: sensor.attic_office_multisensor_humidity
            name: Humidity

  - type: 'custom:layout-card'
    view_layout:
      grid-area: audio_video
    cards:
      - type: 'custom:button-card'
        template: header
        name: Audio / Video

      - type: entities
        show_header_toggle: false
        entities:
          - entity: media_player.attic_office_sonos
            name: Sonos
            icon: "mdi:speaker"

  - type: 'custom:layout-card'
    view_layout:
      grid-area: octoprint
    layout_type: grid
    layout:
      grid-template-areas: |
        "header"
        "camera"
        "main"
    cards:
      - type: 'custom:button-card'
        view_layout:
          grid-area: header
        template: header
        name: 3D Printer

      - type: picture-entity
        view_layout:
          grid-area: camera
        entity: camera.attic_office_3d_printer
        camera_view: live
        show_state: false
        show_name: false

      - type: 'custom:hui-entities-card'
        view_layout:
        grid-area: main
        show_header_toggle: false
        entities:
          - entity: switch.attic_office_3d_printer_power
            name: Printer power
          # - entity: automation.attic_office_3d_printer_automatic_off
          #   name: Automatic power off
          #   icon: mdi:power
          - entity: input_boolean.attic_office_3d_printer_notifications
            name: Notifications
            icon: mdi:bell
          - entity: sensor.attic_office_3d_printer_print_state
            name: Print state
          - type: conditional
            conditions:
              - entity: sensor.attic_office_3d_printer_print_state
                state: "printing"
            row:
              entity: sensor.attic_office_3d_printer_print_progress
              name: Print job percentage
              icon: mdi:progress-clock
          - type: conditional
            conditions:
              - entity: sensor.attic_office_3d_printer_print_state
                state: "printing"
            row:
              entity: sensor.attic_office_3d_printer_eta_formatted
              name: ETA
          - entity: sensor.attic_office_3d_printer_heated_bed_temperature
            name: Bed temperature
          - type: conditional
            conditions:
              - entity: sensor.attic_office_3d_printer_heated_bed_temperature_target
                state_not: "0.0"
            row:
              entity: sensor.attic_office_3d_printer_heated_bed_temperature_target
              name: Target bed temperature
          - entity: sensor.attic_office_3d_printer_extruder_temperature
            name: Hotend temperature
          - type: conditional
            conditions:
              - entity: sensor.attic_office_3d_printer_extruder_temperature_target
                state_not: "0.0"
            row:
              entity: sensor.attic_office_3d_printer_extruder_temperature_target
              name: Target hotend temperature

  - type: 'custom:layout-card'
    view_layout:
      grid-area: lights
    cards:
      - type: 'custom:button-card'
        template: header
        name: Lights

      - type: entities
        show_header_toggle: false
        entities:
          - entity: input_select.attic_office_lights_scene
            name: Scene

          - entity: light.attic_office_front_ceiling
            name: Front ceiling
            hold_action: !include ../popups/attic-office-light_front.yaml

          - entity: light.attic_office_rear_ceiling
            name: Rear ceiling
            hold_action: !include ../popups/attic-office-light_rear.yaml
