title: Hallway
icon: "mdi:floor-plan"
id: hallway
path: hallway
badges: []
type: "custom:grid-layout"
layout:
  #default
  grid-column-gap: var(--custom-layout-card-padding)
  grid-template-columns: 0 repeat(3, 1fr) 0
  grid-template-rows: auto

  grid-template-areas: |
    ". status    devices   lights ."

  mediaquery:
    #phone
    "(max-width: 800px)":
      grid-template-columns: 0 repeat(1, 1fr) 0
      grid-template-areas: |
        ".       status    ."
        ".       devices   ."
        ".       lights    ."

    #tablet portrait
    "(max-width: 1000px)":
      grid-template-columns: 0 repeat(2, 1fr) 0
      grid-template-areas: |
        ".       status  devices  ."
        ".       lights  .        ."

cards:
  #################################################
  #                    Status                     #
  #################################################

  - type: vertical-stack
    title: Status
    view_layout:
      grid-area: status
    cards:
      - type: custom:mushroom-entity-card
        entity: binary_sensor.downstairs_hallway_is_dark
        name: Dark?
        tap_action: !include ../popups/light_levels.yaml

      - type: custom:mushroom-entity-card
        entity: binary_sensor.downstairs_hallway_motion
        name: Motion

  #################################################
  #                   Devices                     #
  #################################################

  - type: vertical-stack
    title: Devices
    view_layout:
      grid-area: devices
    cards:
      - type: custom:mushroom-template-card
        entity: switch.doorbell_chime_muted
        name: Doorbell?
        icon: |
          {% if is_state('switch.doorbell_chime_muted', 'on') %}
            mdi:bell-cancel
          {% else %}
            mdi:bell
          {% endif %}
        icon_color: |
          {% if is_state('switch.doorbell_chime_muted', 'on') %}
            orange
          {% endif %}
        primary: Doorbell
        secondary: |
          {% if is_state('switch.doorbell_chime_muted', 'on') %}
            Silent
          {% else %}
            On
          {% endif %}
        layout: horizontal

  #################################################
  #                    Lights                     #
  #################################################

  - type: vertical-stack
    title: Lights
    view_layout:
      grid-area: lights
    cards:
      - type: custom:mushroom-chips-card
        chips:
          - type: entity
            entity: input_select.downstairs_hallway_lights_scene
            tap_action:
              action: call-service
              service: input_select.select_next
              target:
                entity_id: input_select.downstairs_hallway_lights_scene
            hold_action:
              action: call-service
              service: input_select.select_option
              service_data:
                option: 'Off'
              target:
                entity_id: input_select.downstairs_hallway_lights_scene

          - type: template
            content: |
              {% if is_state('binary_sensor.downstairs_hallway_automatic_lights', 'on') %}
                Automatic mode enabled
              {% else %}
                Manual override active
              {% endif %}
            icon_color: |
              {% if is_state('binary_sensor.downstairs_hallway_automatic_lights', 'on') %}
                green
              {% else %}
                orange
              {% endif %}
            icon: mdi:lightbulb-auto
            entity: input_boolean.downstairs_hallway_lights_manual_mode

          - type: entity
            entity: input_number.downstairs_hallway_automatic_lights_duration

          - type: entity
            entity: timer.downstairs_hallway_automatic_lights

      - type: custom:mushroom-light-card
        entity: light.downstairs_hallway_ceiling
        name: Ceiling
        primary_info: name
        secondary_info: state
        layout: horizontal
        show_brightness_control: true
