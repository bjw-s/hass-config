title: Home
icon: 'mdi:home'
id: home
path: home
badges: []
type: 'custom:grid-layout'
layout:
  #default
  grid-column-gap: var(--custom-layout-card-padding)
  grid-template-columns: 0 repeat(3, 1fr) 0
  grid-template-rows: auto

  grid-template-areas: |
    ". presence  glance  trash ."
    ". presence  modes   trash ."

  mediaquery:
    #phone
    "(max-width: 800px)":
      grid-template-columns: 0 repeat(1, 1fr) 0
      grid-template-areas: |
        ".       presence    ."
        ".       glance      ."
        ".       modes       ."
        ".       trash       ."

    #tablet portrait
    "(max-width: 1000px)":
      grid-template-columns: 0 repeat(2, 1fr) 0
      grid-template-areas: |
        ".       presence  modes    ."
        ".       glance    trash    ."

cards:
  #################################################
  #                                               #
  #                   PRESENCE                    #
  #                                               #
  #################################################

  # Large variant
  - type: vertical-stack
    title: Presence
    view_layout:
      grid-area: presence
      show:
          mediaquery: "(min-width: 800px)"
    cards:
      - type: custom:mushroom-alarm-control-panel-card
        entity: alarm_control_panel.house
        layout: vertical
        states:
          - armed_home
          - armed_night
          - armed_away
        tap_action: !include ../popups/alarm.yaml

      - type: horizontal-stack
        cards:
          - type: custom:mushroom-person-card
            entity: person.bernd
            use_entity_picture: true
            layout: vertical

          - type: custom:mushroom-person-card
            entity: person.man_yie
            use_entity_picture: true
            layout: vertical

  # Small variant
  - type: vertical-stack
    title: Presence
    view_layout:
      grid-area: presence
      show:
          mediaquery: "(max-width: 800px)"
    cards:
      - type: custom:mushroom-alarm-control-panel-card
        entity: alarm_control_panel.house
        layout: auto
        show_keypad: false
        states:
          - armed_home
          - armed_night
          - armed_away
        tap_action: !include ../popups/alarm.yaml

      # - type: custom:mushroom-template-card
      #   primary: Alarm
      #   secondary: |-
      #     {{ states(entity) | capitalize }}
      #   icon: |-
      #     {%- if is_state(entity, 'disarmed') %}
      #     mdi:shield-off
      #     {%- elif  is_state(entity, 'armed_home') %}
      #     mdi:shield-home
      #     {%- elif  is_state(entity, 'armed_night') %}
      #     mdi:shield-moon
      #     {%- elif  is_state(entity, 'armed_away') %}
      #     mdi:shield-account
      #     {% endif %}
      #   icon_color: |-
      #     {%- if is_state(entity, 'triggered') %}
      #     red
      #     {%- elif is_state(entity, 'disarmed') %}
      #     green
      #     {%- else %}
      #     orange
      #     {% endif %}
      #   entity: alarm_control_panel.house
      #   multiline_secondary: false

      #   tap_action: !include ../popups/alarm.yaml

      - type: custom:mushroom-person-card
        entity: person.bernd
        use_entity_picture: true
        layout: horizontal

      - type: custom:mushroom-person-card
        entity: person.man_yie
        use_entity_picture: true
        layout: horizontal

  #################################################
  #                                               #
  #                    GLANCE                     #
  #                                               #
  #################################################

  - type: vertical-stack
    title: At a glance
    view_layout:
      grid-area: glance
    cards:
      - type: custom:mushroom-template-card
        primary: Thermostat ({{ states(entity) | capitalize }})
        secondary: |-
          Current: {{ state_attr(entity, 'current_temperature') }} °C
          {%- if is_state(entity, 'heat') %}
          Target: {{ state_attr(entity, 'temperature') }} °C
          {% endif %}
        icon: mdi:thermostat
        icon_color: |-
          {%- if is_state(entity, 'heat') %}
          orange
          {% endif %}
        entity: climate.downstairs_living_room
        multiline_secondary: true

  #################################################
  #                                               #
  #                     MODES                     #
  #                                               #
  #################################################

  - type: vertical-stack
    title: Modes
    view_layout:
      grid-area: modes
    cards:
      - type: grid
        columns: 2
        cards:
          - type: vertical-stack
            cards:
              - type: custom:restriction-card
                card:
                  type: custom:mushroom-entity-card
                  entity: input_boolean.home_modes_guest_mode
                  name: Guest
                  icon: mdi:human-handsup
                  layout: horizontal
                  tap_action:
                    action: toggle

              - type: custom:restriction-card
                card:
                  type: custom:mushroom-entity-card
                  entity: input_boolean.home_modes_vacation_mode
                  name: Vacation
                  icon: mdi:airplane
                  layout: horizontal
                  tap_action:
                    action: toggle

          - type: vertical-stack
            cards:
              - type: custom:restriction-card
                card:
                  type: custom:mushroom-entity-card
                  entity: input_boolean.home_modes_bedtime_mode
                  name: Bedtime
                  icon: mdi:sleep
                  layout: horizontal
                  tap_action:
                    action: toggle

  #################################################
  #                                               #
  #                     TRASH                     #
  #                                               #
  #################################################

  - type: vertical-stack
    title: Trash
    view_layout:
      grid-area: trash
    cards:
      - type: custom:mushroom-entity-card
        entity: sensor.afvalwijzer_restafval
        name: Restafval
        primary_info: name
        secondary_info: state
        icon: mdi:trash-can
        layout: horizontal

      - type: custom:mushroom-entity-card
        entity: sensor.afvalwijzer_gft
        name: GFT
        primary_info: name
        secondary_info: state
        icon: mdi:leaf
        layout: horizontal

      - type: custom:mushroom-entity-card
        entity: sensor.afvalwijzer_pmd
        name: PMD
        primary_info: name
        secondary_info: state
        icon: mdi:recycle
        layout: horizontal

      - type: custom:mushroom-entity-card
        entity: sensor.afvalwijzer_papier
        name: Papier
        primary_info: name
        secondary_info: state
        icon: mdi:package-variant
        layout: horizontal
