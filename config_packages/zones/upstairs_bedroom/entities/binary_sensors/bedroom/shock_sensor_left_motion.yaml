---
platform: template
sensors:
  upstairs_bedroom_shock_sensor_left_motion:
    friendly_name: "name: Upstairs Bedroom - Shock Sensor Left Motion"
    value_template:  >
      {% set entity = 'binary_sensor.upstairs_bedroom_shock_sensor_left_vibration' %}
      {% set entity_state = states(entity) %}
      {% if states[entity] %}
        {% set last_changed = as_timestamp(states[entity].last_changed) %}
      {% else %}
        {% set last_changed = 0 %}
      {% endif %}
      {{-
        entity_state == 'on'
        or
        (
          entity_state == 'off'
          and
          (
            (as_timestamp(now()) - last_changed) | round(0)
          ) < 300
        )
      -}}
